<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Bloc 1 : Structures de données</title>
		<!-- Gestion des scripts en fonction du mode de présentation -->
		<script src="../../commun/commun.js" type="text/javascript"></script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<section id="1.4.1" data-menu-title="1.4.1 - Contexte">
						<h1>Contexte</h1>
						<hr />
						<p>Si nous pouvons communiquer par téléphone portable, se géolocaliser sur une carte ou utiliser des réseaux sociaux, c'est grâce à la structure de données, et les algorithmes associés, que nous allons étudier : le graphe.</p>
					</section>
					<section>
						<h2>Illustration</h2>
							<p>Imaginons un réseau social ayant 6 abonnés (A, B, C, D, E et F) où :</p>
							<ul>
								<li>A est ami avec B, C et D</li>
								<li>B est ami avec A et D</li>
								<li>C est ami avec A, E et D</li>
								<li>D est ami avec tous les autres abonnés</li>
								<li>E est ami avec C, D et F</li>
								<li>F est ami avec E et D</li>
							</ul>
					</section>
					<section>
						<p>La description de ce réseau social, malgré son faible nombre d'abonnés, est déjà quelque peu rébarbative, alors imaginez cette même description avec un réseau social comportant des millions d'abonnés !
							<br>Il existe un moyen plus "visuel" pour représenter ce réseau social.
						</p>
					</section>
					<section>
						<ul>
							<li>On peut représenter chaque abonné par un cercle (avec le nom de l'abonné situé dans le cercle) et,</li>
							<li>Chaque relation "X est ami avec Y" par un segment de droite reliant X et Y ("X est ami avec Y" et "Y est ami avec X" étant représenté par le même segment de droite).</li>
						</ul>
						<p>Voici ce que cela donne avec le réseau social décrit ci-dessus :</p>
						<p id="e1" class="img-container"></p>
					</section>
				</section>
				<section>
					<section id="1.4.2" data-menu-title="1.4.2 - Première définition">
						<h1>Définition</h1>
						<p>Un graphe $G$ est un couple $G = (V,E)$ avec :</p>
						<ul>
							<li>$V$ un ensemble de sommets, et </li>
							<li>$E$ un ensemble d'arêtes.</li>
						</ul>
						<p>Une arête est un ensemble $\{s_i, s_j\}$ où $s_i \mbox{ et } s_j \in V$</p>
					</section>
					<section>
						<p>
							La définition du graphe de la <a href='#e1'>Fig 1.</a> : <br>
							$V = \{A, B, C, D, E, F\}$ et
							$E = \{ \{A, B\}, \{A, C\}, \{A, D\}, \{B, D\}, \{C, E\}, \{C, D\}, \{D, E\}, \{D, F\}, \{E, F\}\}$
						</p>
					</section>
					<section data-menu-title="Travail">
						<div class="boiteTravail">
							<p>Définir et faire la représentation du graphe de réseau social à partir des informations suivantes :</p>
							<ul>
								<li>A est ami avec B et E</li>
								<li>B est ami avec A et C</li>
								<li>C est ami avec B, F et D</li>
								<li>D est ami avec C, F et E</li>
								<li>E est ami avec A, D et F</li>
								<li>F est ami avec C, D et E</li>
							</ul>
						</div>
					</section>
				</section>
				<section>
					<section id="1.4.3" data-menu-title="1.4.3 - Typologie de graphe">
						<p>Autre utilisation possible des graphes : les logiciels de cartographie (ces logiciels sont souvent utilisés couplés à des récepteurs GPS). Ces logiciels de cartographie permettant, connaissant votre position grâce à un récepteur GPS, d'indiquer la route à suivre pour se rendre à endroit B. Comment modéliser l'ensemble des lieux et des routes ? Simplement à l'aide d'un graphe ! Chaque lieu est un sommet et les routes qui relient les lieux entre eux sont des arêtes.</p>
					</section>
					<section>
						<p>Soit les lieux suivants : A, B, C, D, E, F et G.Les différents lieux sont reliés par les routes suivantes :</p>
						<ul>
							<li>il existe une route entre A et C</li>
							<li>il existe une route entre A et B</li>
							<li>il existe une route entre A et D</li>
							<li>il existe une route entre B et F</li>
							<li>il existe une route entre B et E</li>
							<li>il existe une route entre B et G</li>
							<li>il existe une route entre D et G</li>
							<li>il existe une route entre E et F</li>
						</ul>
					</section>
					<section>
						<p id="e2" class="img-container"></p>
					</section>
					<section>
						<p>Problème : avec cette représentation du réseau routier sous forme de graphe, il est impossible de tenir compte des routes en sens unique (par exemple il est possible d'aller de A vers D mais pas de D vers A). Voici de nouvelles contraintes :</p>
						<ul>
							<li>il existe une route entre A et C (double sens)</li>
							<li>il existe une route entre A et B (sens unique B->A)</li>
							<li>il existe une route entre A et D (sens unique A->D)</li>
							<li>il existe une route entre B et F (sens unique B->F)</li>
							<li>il existe une route entre B et E (sens unique E->B)</li>
							<li>il existe une route entre B et G (double sens)</li>
							<li>il existe une route entre D et G (double sens)</li>
							<li>il existe une route entre E et F (double sens)</li>
						</ul>
					</section>
					<section>
						<p>Pour tenir compte de ces nouvelles contraintes, on utilisera un graphe orienté :</p>
						<p id="e3" class="img-container"></p>
					</section>
				</section>
				<section>
					<section id="1.4.4" data-menu-title="1.4.4 - Deuxième définition">
						<h1>Définition</h1>
						<p>Un graphe $G$ orienté est un couple $G = (V, A)$ avec :</p>
						<ul>
							<li>$V$ un ensemble de sommets, et </li>
							<li>$A$ un ensemble d'arcs.</li>
						</ul>
						<p>Un arc est un couple $(s_i, s_j)$ où $s_i \mbox{ et } s_j \in V$</p>
					</section>
					<section>
						<p>
							La définition du graphe de la <a href='#e3'>Fig 3.</a> : <br>
							$V = \{A, B, C, D, E, F\}$ et
							$E = \{ (A, C), (B, A), (A, D), (B, F), (E, B), (B, G), (G, B), (D, G), (G, D), (E, F), (F, E)\}$
						</p>
					</section>
					<section>
						<p>Parfois il est intéressant d'associer aux arêtes ou aux arcs des valeurs, on parle alors de graphes pondérés. Si nous revenons à notre "graphe cartographie", il est possible d'associer à chaque arête la distance en Km entre les 2 lieux :</p>
					</section>
					<section>
						<p id="e4" class="img-container"></p>
					</section>
				</section>
				<section data-menu-title='Vocabulaire'>
					<h1>Vocabulaire</h1>
					<p>Sommets adjacents :</p>
					<p>Degré d'un sommet, noté $deg(s)$ : Nombre d’arêtes qui le relient aux autres sommets.</p>
					<p>Ordre d’un graphe : Nombre de sommets d'un graphe. </p>
					<p id="e7" class="img-container"></p>
				</section>
				<section>
					<section id="1.4.5" data-menu-title="1.4.5 - Implémentation">
						<h1>Implémentation</h1>
					</section>
					<section id="1.4.5.1" data-menu-title="1.4.5.1 - Matrice d'adjacence">
						<h1>Matrice d'adjacence</h1>
						<p>Une matrice est un tableau à double entrée :<br>
							$$\begin{pmatrix}
								6 & 2 & 9 & 4 \\
								7 & 1 & 8 & 2 \\
								4 & 5 & 1 & 2 \\
								8 & 1 & 14 & 7 \\
								3 & 5 & 11 & 9
								\end{pmatrix}$$</p>
					</section>
					<section>
						<p>On représente un graphe par une matrice "carrée" de $n$ lignes et $n$ colonnes :</p>
							<ul>
								<li>A chaque ligne $i$ correspond un sommet du graphe, et à chaque colonne j correspond aussi un sommet du graphe.</li>
								<li>À chaque intersection $(i, j)$, on place :
									<ul>
										<li>1 s'il existe une arête entre le sommet $i$ et le sommet $j$, et</li>
										<li>0 s'il n'existe pas d'arête entre le sommet $i$ et le sommet $j$.</li>
									</ul>
								</li>
								</ul>
					</section>
					<section>
						<div class="boiteTravail">
							<p>Soit l'ensemble des sommets $\{A, B, C, D, E\}$ et la matrice d'adjacence suivante : </p>
							$$\begin{pmatrix}
								0 & 1 & 1 & 1 & 0  \\
								1 & 0 & 0 & 0 & 1  \\
								1 & 0 & 0 & 1 & 0  \\
								1 & 1 & 0 & 0 & 0  \\
								0 & 1 & 0 & 0 & 0  \\
								\end{pmatrix}$$
							<p>Dessiner le graphe $G$ à laquelle cette matrice correspond.</p>
						</div>
					</section>
					<section>
						<div class="boiteTravail">
							<p>Soit le graphe $G$ suivant :</p>
							<p id="e5" class="img-container"></p>
							<p>Déterminer la matrice d'adjacence du graphe $G$.</p>
						</div>
					</section>
					<section id="1.4.5.2" data-menu-title="1.4.5.2 - Liste d'adjacence">
						<h1>Liste d'adjacence</h1>
						<p>Pour représenter un graphe, on définit une liste des sommets,
							<br>À chaque élément de cette liste, on associe une autre liste qui contient les sommets lié à cet élément.</p>
					</section>
					<section>
						<div class="row" style='display: flex;align-items: center;'>
							<div>
								<p>Graphe avec sa liste d'adjacence associée &rArr;</p>
								<div id="e6" class="img-container"></div>
							</div>
							<table class="adjacence">
								<tr>
									<th class='bord'>A</th>
									<td>&rArr;</td>
									<td class="case">B</td>
									<td class="case">C</td>
									<td class="case">D</td>
									<td></td>
								</tr>
								<tr>
									<th>B</th>
									<td>&rArr;</td>
									<td class="case">A</td>
									<td class="case">E</td>
									<td class="case">F</td>
									<td class="case">G</td>
								</tr>
								<tr>
									<th>C</th>
									<td>&rArr;</td>
									<td class="case">A</td>
									<td></td>
									<td></td>
									<td></td>
								</tr>
								<tr>
									<th>D</th>
									<td>&rArr;</td>
									<td class="case">A</td>
									<td class="case">G</td>
									<td></td>
									<td></td>
								</tr>
								<tr>
									<th>E</th>
									<td>&rArr;</td>
									<td class="case">B</td>
									<td class="case">F</td>
									<td></td>
									<td></td>
								</tr>
								<tr>
									<th>F</th>
									<td>&rArr;</td>
									<td class="case">B</td>
									<td class="case">E</td>
									<td></td>
									<td></td>
								</tr>
								<tr>
									<th>G</th>
									<td>&rArr;</td>
									<td class="case">B</td>
									<td class="case">D</td>
									<td></td>
									<td></td>
								</tr>
							</table>
						</div>
					</section>
					<section>
						<div class="boiteTravail">&Eacute;crire en python la représentation par liste d'adjacence du graphe $G$ précédent.</div>
					</section>
					<section>
						<h3>Comment choisir l'implémentation à utiliser ?</h3>
						<ul>
							<li>Le choix se fait en fonction de la densité du graphe, c'est-à-dire du rapport entre le nombre d'arêtes et le nombre de sommets.</li>
							<li>Pour un graphe dense on utilisera plutôt une matrice d'adjacence.</li>
							<li>certains algorithmes travaillent plutôt avec les listes d'adjacences alors que d'autres travaillent plutôt avec les matrices d'adjacences.</li>
							<li>Le choix doit donc aussi dépendre des algorithmes utilisés (Cf. <a href="../bloc5">Bloc 5.3 - Algorithmes sur les graphes</a>).</li>
						</ul>
					</section>
				</section>
			</div>
		</div>

		<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js" integrity="sha256-VeNaFBVDhoX3H+gJ37DpT/nTuZTdjYro9yBruHjVmoQ=" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.0.3/build/highlight.min.js"></script>
		<script src="https://kit.fontawesome.com/5432c69a6f.js" crossorigin="anonymous"></script>
		<script src="../../lib/reveal/js/reveal.js"></script>
		<script type="text/javascript">
			initMode({ header : '1.4 - Graphes'});
		</script>
		<script src="../../lib/viz/viz.js" type="text/javascript"></script>
    <script src="../../lib/viz/full.render.js" type="text/javascript"></script>
		<script type="text/javascript">
			var viz = new Viz();
				viz.renderSVGElement(`
					 graph G {
						 label = "Fig1. Graphe réseau social";
						 { rank=same A B }
						 { rank=same C D }
						 { rank=same E F }
							A -- B;
							A -- C;
							A -- D;
							B -- D;
							C -- D;
							C -- E;
							D -- E;
							D -- F;
							E -- F;
					}
					`, { engine : 'dot'})
				.then(function(element) {
					element.className = 'responsive auto-width';
					document.getElementById('e1').appendChild(element);
				});
				viz.renderSVGElement(`
					 graph G {
						 label = "Fig2. Graphe cartographique";
						 {rank=min A}
						 {rank=same D C B F}
							A -- C;
							A -- B;
							A -- D;
							B -- F;
							B -- E;
							B -- G;
							D -- G;
							E -- F;
					}
					`, { engine : 'dot'})
				.then(function(element) {
					element.className = 'responsive auto-width';
					document.getElementById('e2').appendChild(element);
				});

				viz.renderSVGElement(`
					 digraph G {
						 label = "Fig3. Graphe orienté cartographique";
						 {rank=min A}
						 {rank=same D C B F}
							A -> C;
							B -> A;
							A -> D;
							C -> A;
							B -> F;
							E -> B;
							B -> G;
							G -> B;
							D -> G;
							G -> D;
							E -> F;
							F -> E;
					}
					`, { engine : 'dot'})
				.then(function(element) {
					element.className = 'responsive auto-width';
					document.getElementById('e3').appendChild(element);
				});

				viz.renderSVGElement(`
					digraph G {
						label = <Fig3. Graphe orienté d'<font color="limegreen">ordre 7</font> >;
						node [fontcolor=limegreen];
						{rank=min A}
						{rank=same D C B F}
						D [xlabel= < <table BORDER="0" CELLPADDING="0" CELLSPACING="0"><tr><td><font color="black">d<SUP>-</SUP>(D) =</font></td><td><font color="red">2</font></td></tr><tr><td><font color="black">d<SUP>+</SUP>(D) = </font></td><td><font color="blue">1</font></td></tr></table>>];
						 A -> C;
						 B -> A;
						 A -> D [color=red];
						 C -> A;
						 B -> F;
						 E -> B;
						 B -> G;
						 G -> B;
						 D -> G [color=blue];
						 G -> D [color=red];
						 E -> F;
						 F -> E;
					}
					`, { engine : 'dot'})
				.then(function(element) {
					element.className = 'responsive auto-width';
					document.getElementById('e7').appendChild(element);
				});

				viz.renderSVGElement(`
					 digraph G {
						 label = "Fig4. Graphe orienté pondéré cartographique";
						 {rank=min A}
						 {rank=same D C B F}
							A -> C [ label="2"];
							B -> A [ label="3"];
							A -> D [ label="4"];
							C -> A [ label="2"];
							B -> F [ label="3"];
							E -> B [ label="4"];
							B -> G [ label="6"];
							G -> B [ label="6"];
							D -> G [ label="5"];
							G -> D [ label="5"];
							E -> F [ label="7"];
							F -> E [ label="6"];
					}
					`, { engine : 'dot'})
				.then(function(element) {
					element.className = 'responsive auto-width';
					document.getElementById('e4').appendChild(element);
				});
				viz.renderSVGElement(`
					 graph G {
						 label = "Fig5. Graphe non orienté";
						 { rank=same A E }
						 { rank=same B C }
						 { rank=same D F }
							A -- A;
							A -- B;
							B -- E;
							B -- C;
							C -- D;
							C -- E;
							D -- F;
							F -- C;
					}
					`, { engine : 'dot'})
				.then(function(element) {
					element.className = 'responsive auto-width';
					element.children[0].querySelector('polygon').style.fill='transparent';
					document.getElementById('e5').appendChild(element);
				});
				viz.renderSVGElement(`
					 graph G {
						 label = "Fig2. Graphe cartographique";
						 {rank=min A}
						 {rank=same D C B F}
							A -- C;
							A -- B;
							A -- D;
							B -- F;
							B -- E;
							B -- G;
							D -- G;
							E -- F;
					}
					`, { engine : 'dot'})
				.then(function(element) {
					element.className = 'responsive auto-width';
					document.getElementById('e6').appendChild(element);
				});
				hljs.initHighlightingOnLoad();
		</script>
	</body>
</html>
